function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=t.parcelRequire5c22;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){r[e]=t},t.parcelRequire5c22=a),e(a("2shzp")).defaults.baseURL="https://pixabay.com/api?key=29685313-2ba6443e06a4499ef383b21bf";const l={form:document.querySelector(".form"),list:document.querySelector(".list"),loader:document.querySelector(".loader"),pages:document.querySelector(".pages"),loadMore:document.querySelector(".load-more")};let s=!1,i=[],n="",c=1;const d=async()=>{s=!0,l.loader.classList.add("visible");try{const e=await fetch(`https://pixabay.com/api?key=29685313-2ba6443e06a4499ef383b21bf&q=${n}&per_page=5&page=${c}`),t=await e.json();i=[...i,t.hits],totalPages=t.totalHits/5,(e=>{const t=e.map((({previewURL:e,pageURL:t})=>`<li><a href="${t}"><img src="${e}" /></a></li>`)).join("");l.list.insertAdjacentHTML("beforeend",t)})(t.hits)}catch(e){console.log(e.message)}l.loader.classList.remove("visible"),s=!1};l.form.addEventListener("submit",(e=>{e.preventDefault(),n!==e.target.elements.query.value&&(n=e.target.elements.query.value,l.list.innerHTML="",c=1,i=[],n&&d())})),l.list.addEventListener("scroll",(({target:e})=>{e.scrollTop+e.clientHeight+10>=e.scrollHeight&&!s&&(c+=1,d())}));
//# sourceMappingURL=index.66b77391.js.map
