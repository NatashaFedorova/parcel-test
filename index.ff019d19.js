const e=new class{fetchArticles(){const e=`https://newsapi.org/v2/everything?q=${this.searchQuery}&pageSize=6&page=${this.page}`;return fetch(e,{headers:{Authorization:"1b6063555cd547c889bf5f23bdfaa2ad"}}).then((e=>e.json())).then((({articles:e})=>(this.incrementPage(),e)))}get query(){return this.searchQuery}set query(e){this.searchQuery=e}incrementPage(){this.page+=1}resetPage(){this.page=1}constructor(){this.searchQuery="",this.page=1}},t=new class{getRefs(e){const t={};return t.button=document.querySelector(e),t.label=t.button.querySelector(".label"),t.spinner=t.button.querySelector(".spinner"),t}enable(){this.refs.button.disabled=!1,this.refs.label.textContent="Показать ещё",this.refs.spinner.classList.add("is-hidden")}disable(){this.refs.button.disabled=!0,this.refs.label.textContent="Загружаем...",this.refs.spinner.classList.remove("is-hidden")}show(){this.refs.button.classList.remove("is-hidden")}hide(){this.refs.button.classList.add("is-hidden")}constructor({selector:e,hidden:t=!1}){this.refs=this.getRefs(e),t&&this.hide()}}({selector:'[data-action="load-more"]',hidden:!0}),r={searchForm:document.querySelector(".js-search-form"),articlesContainer:document.querySelector(".js-articles-container")};function s(){t.disable(),e.fetchArticles(searchQuery).then((e=>{var s;s=e,r.articlesContainer.insertAdjacentHTML("beforeend",function(e){return e.map(n)}(s)),t.enable()}))}function n({url:e,urlToImage:t,title:r,author:s,description:n}){return`<li>\n    <a href="${e}" target="_blank" rel="noopener noreferrer">\n      <article>\n        <img src="${t}" alt="" width="480">\n        <h2>${r}</h2>\n        <p>Posted by: ${s}</p>\n        <p>${n}</p>\n      </article>\n    </a>\n  </li>`}r.searchForm.addEventListener("submit",(function(n){if(n.preventDefault(),e.query=n.currentTarget.elements.query.value,""===n.currentTarget.elements.query.value)return void alert("А що шукати будемо?");t.show(),e.resetPage(),r.articlesContainer.innerHTML="",s()})),t.refs.button.addEventListener("click",s);
//# sourceMappingURL=index.ff019d19.js.map
