{"mappings":"AAgGgB,MAAVA,EAAgB,IC7FP,MAMbC,gBACE,MAAMC,EAAM,uCAA4BC,KAAKC,+BAA+BD,KAAKE,OAOjF,OAAOC,MAAMJ,EANG,CACdK,QAAS,CACPC,cAbQ,sCAkBTC,MAAKC,GAAYA,EAASC,SAC1BF,MAAK,EAACG,SAAEA,MACPT,KAAKU,gBACED,I,CAITE,YACF,OAAOX,KAAKC,W,CAGVU,UAAMC,GACRZ,KAAKC,YAAcW,C,CAGrBF,gBACEV,KAAKE,MAAQ,C,CAGfW,YACEb,KAAKE,KAAO,C,CAlCdY,cACEd,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,GD2FVa,EAAc,IEjGL,MAObC,QAAQC,GACN,MAAMC,EAAO,GAKb,OAJAA,EAAKC,OAASC,SAASC,cAAcJ,GACrCC,EAAKI,MAAQJ,EAAKC,OAAOE,cAAc,UACvCH,EAAKK,QAAUL,EAAKC,OAAOE,cAAc,YAElCH,C,CAGTM,SACExB,KAAKkB,KAAKC,OAAOM,UAAW,EAC5BzB,KAAKkB,KAAKI,MAAMI,YAAc,eACnB1B,KAANkB,KAAKK,QAAQI,UAAUC,IAAI,Y,CAGlCC,UACE7B,KAAKkB,KAAKC,OAAOM,UAAW,EAC5BzB,KAAKkB,KAAKI,MAAMI,YAAc,eAC9B1B,KAAKkB,KAAKK,QAAQI,UAAUG,OAAO,Y,CAGrCC,OACE/B,KAAKkB,KAAKC,OAAOQ,UAAUG,OAAO,Y,CAGpCE,OACEhC,KAAKkB,KAAKC,OAAOQ,UAAUC,IAAI,Y,CAhCjCd,aAAYG,SAAEA,EAAQgB,OAAEA,GAAS,IAC/BjC,KAAKkB,KAAOlB,KAAKgB,QAAQC,GAEzBgB,GAAUjC,KAAKgC,M,GF6FiB,CAClCf,SAAU,4BACVgB,QAAQ,IAGJC,EAAO,CACXC,WAAYf,SAASC,cAAc,mBACnCe,kBAAmBhB,SAASC,cAAc,2BAsB5C,SAASgB,IACPtB,EAAYc,UACZhC,EAAcC,cAAcG,aAAaK,MAAKgC,IAMhD,IAA8B7B,IALL6B,EAMvBJ,EAAKE,kBAAkBG,mBACrB,YAKJ,SAAwB9B,GACtB,OAAOA,EAAS+B,IAAIC,E,CALlBC,CAAejC,IAPfM,EAAYS,QAAQ,G,CAmBxB,SAASiB,GAAc1C,IAAEA,EAAG4C,WAAEA,EAAUC,MAAEA,EAAKC,OAAEA,EAAMC,YAAEA,IACvD,MAAO,sBACM/C,qFAEK4C,uCACNC,iCACUC,qBACXC,4C,CAjDbZ,EAAKC,WAAWY,iBAAiB,UAGjC,SAAsBC,GAKpB,GAJAA,EAAEC,iBAEFpD,EAAcc,MAAQqC,EAAEE,cAAcC,SAASxC,MAAMyC,MAER,KAAzCJ,EAAEE,cAAcC,SAASxC,MAAMyC,MAEjC,YADAC,MAAM,uBAIRtC,EAAYgB,OACZlC,EAAcgB,YAyBdqB,EAAKE,kBAAkBkB,UAAY,GAvBnCjB,G,IAfFtB,EAAYG,KAAKC,OAAO4B,iBAAiB,QAASV","sources":["src/mod-10-repeta.js","src/components/news-service.js","src/components/load-more-btn.js"],"sourcesContent":["import './css/style.css';\nimport NewsApiSerice from './components/news-service.js';\nimport LoadMoreBtn from './components/load-more-btn.js';\n\n// ================Приклад 1======================\n// fetch('https://pokeapi.co/api/v2/pokemon/3')\n//   .then(response => {\n//     return response.json();\n//   })\n//   .then(pokemon => {\n//     console.log(pokemon);\n//   })\n//   .catch(error => {\n//     console.log(error);\n//   });\n\n// ================Приклад 2======================\n// const refs = {\n//   сardContainer: document.querySelector('.js-card-container'),\n//   searchForm: document.querySelector('.js-search-form'),\n// };\n\n// refs.searchForm.addEventListener('submit', onSearch);\n\n// function onSearch(e) {\n//   e.preventDefault();\n\n//   const form = e.currentTarget;\n//   const searchQuery = form.elements.query.value;\n//   fetchPokemon(searchQuery)\n//     .then(renderPokimonCard)\n//     .catch(onFetchError)\n//     .finally(() => form.reset());\n// }\n\n// function fetchPokemon(pokemonId) {\n//   const url = `https://pokeapi.co/api/v2/pokemon/${pokemonId}`;\n//   return fetch(url).then(response => response.json());\n// }\n\n// function creatCardTemp({ sprites, name, weight, height }) {\n//   return `<div class=\"card\">\n//   <div class=\"card-img-top\">\n//     <img src=\"${sprites.front_default}\" alt=\"${name}\">\n//   </div>\n//   <div class=\"card-body\">\n//     <h2 class=\"card-title\">Ім'я: ${name}</h2>\n//     <p class=\"card-text\">Вага: ${weight}</p>\n//     <p class=\"card-text\">Зріст: ${height}</p>\n//   </div>\n// </div>`;\n// }\n\n// function renderPokimonCard(pokemon) {\n//   const markup = creatCardTemp(pokemon);\n//   refs.сardContainer.innerHTML = markup;\n// }\n\n// function onFetchError(error) {\n//   alert('Щось пішло не так...');\n// }\n\n// ================Приклад 3 Параметри запиту======================\n// fetch(\n//   'http://api.weatherstack.com/current?access_key=691038bc173ea5578f47195de82ef920&query=Kiev'\n// )\n//   .then(r => r.json())\n//   .then(res => {\n//     console.log(res);\n//   });\n\n// ===========================\n// fetch(\n//   'https://newsapi.org/v2/everything?q=tesla&from=2022-07-29&sortBy=publishedAt&apiKey=1b6063555cd547c889bf5f23bdfaa2ad'\n// )\n//   .then(r => r.json())\n//   .then(res => {\n//     console.log(res);\n//   });\n\n// ===========================\n// const url =\n//   'https://newsapi.org/v2/everything?q=tesla&from=2022-07-29&sortBy=publishedAt';\n\n// const options = {\n//   headers: {\n//     Authorization: '1b6063555cd547c889bf5f23bdfaa2ad',\n//   },\n// };\n// fetch(url, options)\n//   .then(r => r.json())\n//   .then(res => {\n//     console.log(res);\n//   });\n\n// ================Приклад 4 Пагінація======================\nconst newsApiSerice = new NewsApiSerice();\nconst loadMoreBtn = new LoadMoreBtn({\n  selector: '[data-action=\"load-more\"]',\n  hidden: true,\n});\n\nconst refs = {\n  searchForm: document.querySelector('.js-search-form'),\n  articlesContainer: document.querySelector('.js-articles-container'),\n};\n\nrefs.searchForm.addEventListener('submit', onSearchForm);\nloadMoreBtn.refs.button.addEventListener('click', fetchArticles);\n\nfunction onSearchForm(e) {\n  e.preventDefault();\n\n  newsApiSerice.query = e.currentTarget.elements.query.value;\n\n  if (e.currentTarget.elements.query.value === '') {\n    alert('А що шукати будемо?');\n    return;\n  }\n\n  loadMoreBtn.show();\n  newsApiSerice.resetPage();\n  clearArticlesContainer();\n  fetchArticles();\n}\n\nfunction fetchArticles() {\n  loadMoreBtn.disable();\n  newsApiSerice.fetchArticles(searchQuery).then(article => {\n    appendArticlesNarkup(article);\n    loadMoreBtn.enable();\n  });\n}\n\nfunction appendArticlesNarkup(articles) {\n  refs.articlesContainer.insertAdjacentHTML(\n    'beforeend',\n    createListCard(articles)\n  );\n}\n\nfunction createListCard(articles) {\n  return articles.map(creatCardTemp);\n}\n\nfunction clearArticlesContainer() {\n  refs.articlesContainer.innerHTML = '';\n}\n\nfunction creatCardTemp({ url, urlToImage, title, author, description }) {\n  return `<li>\n    <a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\">\n      <article>\n        <img src=\"${urlToImage}\" alt=\"\" width=\"480\">\n        <h2>${title}</h2>\n        <p>Posted by: ${author}</p>\n        <p>${description}</p>\n      </article>\n    </a>\n  </li>`;\n}\n","const API_KEY = '1b6063555cd547c889bf5f23bdfaa2ad';\nconst BASE_URL = 'https://newsapi.org/v2';\n\nexport default class NewsApiSerice {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    const url = `${BASE_URL}/everything?q=${this.searchQuery}&pageSize=6&page=${this.page}`;\n    const options = {\n      headers: {\n        Authorization: API_KEY,\n      },\n    };\n\n    return fetch(url, options)\n      .then(response => response.json())\n      .then(({ articles }) => {\n        this.incrementPage();\n        return articles;\n      });\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n}\n","export default class LoadMoreBtn {\n  constructor({ selector, hidden = false }) {\n    this.refs = this.getRefs(selector);\n\n    hidden && this.hide();\n  }\n\n  getRefs(selector) {\n    const refs = {};\n    refs.button = document.querySelector(selector);\n    refs.label = refs.button.querySelector('.label');\n    refs.spinner = refs.button.querySelector('.spinner');\n\n    return refs;\n  }\n\n  enable() {\n    this.refs.button.disabled = false;\n    this.refs.label.textContent = 'Показать ещё';\n    this.refs.spinner.classList.add('is-hidden');\n  }\n\n  disable() {\n    this.refs.button.disabled = true;\n    this.refs.label.textContent = 'Загружаем...';\n    this.refs.spinner.classList.remove('is-hidden');\n  }\n\n  show() {\n    this.refs.button.classList.remove('is-hidden');\n  }\n\n  hide() {\n    this.refs.button.classList.add('is-hidden');\n  }\n}\n"],"names":["$3f95993f1925f862$var$newsApiSerice","fetchArticles","url","this","searchQuery","page","fetch","headers","Authorization","then","response","json","articles","incrementPage","query","newQuery","resetPage","constructor","$3f95993f1925f862$var$loadMoreBtn","getRefs","selector","refs","button","document","querySelector","label","spinner","enable","disabled","textContent","classList","add","disable","remove","show","hide","hidden","$3f95993f1925f862$var$refs","searchForm","articlesContainer","$3f95993f1925f862$var$fetchArticles","article","insertAdjacentHTML","map","$3f95993f1925f862$var$creatCardTemp","$3f95993f1925f862$var$createListCard","urlToImage","title","author","description","addEventListener","e","preventDefault","currentTarget","elements","value","alert","innerHTML"],"version":3,"file":"index.ff019d19.js.map"}